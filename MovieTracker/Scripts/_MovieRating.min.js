$(function () { $(".clearRating").click(function () { var e = $(this).closest("td"); var t = { movieId: $(this).closest(".movieRating").data("movieId") }; $.ajax({ url: "/Movie/ClearRating", type: "post", data: t }).success(function (t) { e.empty().append(t) }) }); $(".star").click(function () { var e = $(this).closest("td"); var t = $(this).index() + 1; var n = { movieId: $(this).closest(".movieRating").data("movieId"), rating: t }; $.ajax({ url: "/Movie/AddRating", type: "post", data: n }).success(function (t) { e.empty().append(t) }) }); $(".star").hover(function () { $(this).prevAll(".star").andSelf().addClass("hovered") }, function () { $(this).siblings(".star").andSelf().removeClass("hovered") }) })